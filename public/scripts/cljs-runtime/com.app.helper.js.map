{"version":3,"sources":["com/app/helper.cljs"],"mappings":";AAGA;;;sCAAA,8CAAAA,pFAAMG,6FAEGG,MAAMC;AAFf,AAAA,IAAAN,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAEIG;QAFJ,AAAAF,4CAAAD,WAAA,IAAA,/DAEMI;AAFN,AAGE,SAAK,EAAA,CAAA,eAAA,RAAMD,SAAAA,KAAE,SAAA,RAAKE,qBACb,EAAA,CAAA,eAAA,RAAMD,SAAAA,KAAE,UAAA,TAAKE;;AAEpB;;;6BAAA,2CAAAC,xEAAME,kEAEHC,eAAYC,EAAEN,MAAMC;AAFvB,AAAA,IAAAE,aAAAD;QAAA,AAAAN,4CAAAO,WAAA,IAAA,/DAEUL;QAFV,AAAAF,4CAAAO,WAAA,IAAA,/DAEYJ;AAFZ,AAGE,GAAI,oCAAA,pCAACF,uHAAgBC,EAAEC,UAAGC,MAAMC;AAC9B,+DAAA,xDAACM,kDAAUF,yFAAON,EAAED,UAAGQ;;AACvBD;;;AAEJ;;;0BAAA,1BAAMG,4DAEHH,MAAMI,IAAIC,KAAKV,MAAMC;AAFxB,AAGE,OAACG,2BAAYC,MAAMI,IAAI,WAAAE;AAAA,AAAA,IAAAC,aAAAD;QAAA,AAAAf,4CAAAgB,WAAA,IAAA,/DAAMC;QAAN,AAAAjB,4CAAAgB,WAAA,IAAA,/DAAQE;AAAR,AAAA,0FAAaJ,KAAKI;GAAId,MAAMC;;AAErD;;;6BAAA,7BAAMc,kEAEHV,MAAMI,IAAIO,QAAQhB,MAAMC;AAF3B,AAGE,OAACG,2BAAYC,MAAMI,IAAI,WAAAQ;AAAA,AAAA,IAAAC,aAAAD;QAAA,AAAArB,4CAAAsB,WAAA,IAAA,/DAAMC;QAAN,AAAAvB,4CAAAsB,WAAA,IAAA,/DAAQL;AAAR,AAAA,0FAAaM,EAAEH;GAAUhB,MAAMC;;AAExD;;;2BAAA,yCAAAmB,pEAAME,8DAEHjB,eAAYkB,IAAIvB,MAAMC;AAFzB,AAAA,IAAAoB,aAAAD;QAAA,AAAAxB,4CAAAyB,WAAA,IAAA,/DAEUvB;QAFV,AAAAF,4CAAAyB,WAAA,IAAA,/DAEYtB;AAFZ,AAGE,IAAAyB,aAAc,CAACG,0DAAAA,+DAAAA,PAAWJ,2CAAAA;SAA1B,AAAA3B,4CAAA4B,WAAA,IAAA,hEAAOC;SAAP,AAAA7B,4CAAA4B,WAAA,IAAA,hEAAUE;cAAV,VACME,6FAAS,CAAG9B,IAAE2B,IAAI,CAAG1B,IAAE2B;AAD7B,AAEE,GAAI,AAAC7B,oCAAe+B,QAAQ5B,MAAMC;AAChC,IAAM4B,YAAU,qDAAA,sIAAA,YAAA,vMAACC,+CAAOzB,yFAAO,AAAC0B,iBAAOH,SAAS,AAACI,gBAAMJ;AAAvD,AACE,GAAI,uDAAA,vDAACK,6CAAEJ;AAAP,0FACG/B,EAAEC;;AACH6B;;;AAJN,0FAKG9B,EAAEC","names":["p__32760","vec__32761","cljs.core.nth","com.app.helper/within-bounds?","x","y","width","height","p__32779","vec__32780","com.app.helper/update-cell","board","f","cljs.core.update_in","com.app.helper/put-base","pos","base","p__32783","vec__32785","_","o","com.app.helper/put-overlay","overlay","p__32811","vec__32814","b","p__32835","vec__32836","com.app.helper/move-step","dir","vec__32845","dx","dy","com.app.const/dir-deltas","new-pos","cell-base","cljs.core.get_in","cljs.core/second","cljs.core/first","cljs.core._EQ_"],"sourcesContent":["(ns com.app.helper\r\n  (:require [com.app.const :refer [dir-deltas]]))\r\n\r\n(defn within-bounds?\r\n  \"[(x y) width height] -> boolean\"\r\n  [[x y] width height]\r\n  (and (<= 0 x (dec width))\r\n       (<= 0 y (dec height))))\r\n\r\n(defn update-cell\r\n  \"Bounds-checked\ub85c \ubcf4\ub4dc \uc140\uc744 \uc548\uc804\ud558\uac8c \uac31\uc2e0\ud568\"\r\n  [board [x y] f width height]\r\n  (if (within-bounds? [x y] width height)\r\n    (update-in board [y x] f)\r\n    board))\r\n\r\n(defn put-base\r\n  \"\ubcf4\ub4dc b\uc758 [x y] \uc704\uce58\uc5d0 base \ud0c0\uc785 \uc5c5\ub370\uc774\ud2b8\"\r\n  [board pos base width height]\r\n  (update-cell board pos (fn [[_ o]] [base o]) width height))\r\n\r\n(defn put-overlay\r\n  \"\ubcf4\ub4dc b\uc758 [x y] \uc704\uce58\uc5d0 overlay \ud0c0\uc785 \uc5c5\ub370\uc774\ud2b8\"\r\n  [board pos overlay width height]\r\n  (update-cell board pos (fn [[b _]] [b overlay]) width height))\r\n\r\n(defn move-step\r\n  \"\ud604\uc7ac pos\uc5d0\uc11c dir\ub85c \ud55c \uce78 \uc774\ub3d9. \ubcbd\u00b7bounds \uac80\uc0ac \ud3ec\ud568\"\r\n  [board [x y] dir width height]\r\n  (let [[dx dy] (dir-deltas dir)\r\n        new-pos [(+ x dx) (+ y dy)]]\r\n    (if (within-bounds? new-pos width height)\r\n      (let [cell-base (get-in board [(second new-pos) (first new-pos) 0] :wall)]\r\n        (if (= cell-base :wall)\r\n          [x y]\r\n          new-pos))\r\n      [x y])))"]}